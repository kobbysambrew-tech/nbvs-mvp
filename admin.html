<!DOCTYPE html>
<html lang="en" data-admin-page>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NBVS Admin Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* Reset & base */
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Inter', sans-serif; }
    body { background:#f4f6f9; color:#333; }
    button { cursor:pointer; border:none; border-radius:5px; padding:6px 12px; font-weight:500; }
    table { width:100%; border-collapse:collapse; margin-top:10px; }
    th, td { text-align:left; padding:10px; }
    th { background:#eee; }
    tr:nth-child(even) { background:#fafafa; }
    tr:hover { background:#f0f0f0; }

    /* Header */
    header { display:flex; justify-content:space-between; align-items:center; padding:15px 20px; background:#fff; border-bottom:1px solid #ddd; }
    header h1 { font-size:1.5rem; color:#111; }
    #admin-role { font-weight:600; color:#555; }

    /* Tabs */
    .tabs { display:flex; background:#fff; padding:10px 20px; border-bottom:1px solid #ddd; }
    .tabs button { margin-right:10px; background:#f0f0f0; transition:0.2s; }
    .tabs button.active, .tabs button:hover { background:#d0e0ff; }

    /* Sections */
    section { padding:20px; display:none; }
    section.active { display:block; }

    /* Stats cards */
    .stats { display:flex; flex-wrap:wrap; gap:15px; margin-bottom:20px; }
    .card { background:#fff; flex:1; min-width:150px; padding:15px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.05); }
    .card h3 { font-size:1rem; color:#777; margin-bottom:5px; }
    .card p { font-size:1.2rem; font-weight:600; }

    /* Buttons */
    .btn-primary { background:#4a90e2; color:#fff; }
    .btn-danger { background:#e24a4a; color:#fff; }
    .btn-small { padding:4px 8px; font-size:.9rem; }

    /* Verify card */
    .verify-card { background:#fff; padding:15px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.05); margin-top:10px; }

    /* Modal */
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:1000; }
    .modal-content { background:#fff; padding:20px; border-radius:8px; width:300px; max-width:90%; }
    .modal-content h3 { margin-bottom:10px; }
    .modal-content input { width:100%; margin-bottom:10px; padding:8px; border:1px solid #ccc; border-radius:5px; }

    @media(max-width:600px) { .stats { flex-direction:column; } th, td { font-size:13px; padding:6px 8px; } }
  </style>
</head>
<body>

<header>
  <h1>NBVS Admin</h1>
  <div>User Role: <span id="admin-role"></span> | <button id="btn-logout" class="btn-primary btn-small">Logout</button></div>
</header>

<div class="tabs">
  <button id="tab-dashboard" class="active">Dashboard</button>
  <button id="tab-verify">Verify</button>
  <button id="tab-users">Records</button>
  <button id="tab-wallet">Wallet</button>
  <button id="tab-logs">Search Logs</button>
  <button id="tab-audit">Audit Logs</button>
</div>

<!-- Dashboard -->
<section id="section-dashboard" class="active">
  <div class="stats">
    <div class="card"><h3>Total Users</h3><p id="stat-users">0</p></div>
    <div class="card"><h3>Total Searches</h3><p id="stat-searches">0</p></div>
    <div class="card"><h3>Total Wallet</h3><p id="stat-wallet">$0</p></div>
    <div class="card"><h3>Transactions</h3><p id="stat-transactions">0</p></div>
  </div>
</section>

<!-- Verify -->
<section id="section-verify">
  <input type="text" id="verify-input" placeholder="Enter Name / ID / Phone / Email">
  <div style="margin:10px 0;">
    <button id="btn-verify-name" class="btn-primary btn-small">By Name</button>
    <button id="btn-verify-id" class="btn-primary btn-small">By ID</button>
    <button id="btn-verify-phone" class="btn-primary btn-small">By Phone</button>
    <button id="btn-verify-email" class="btn-primary btn-small">By Email</button>
  </div>
  <div id="verify-output"></div>
</section>

<!-- Records -->
<section id="section-users">
  <button id="btn-add-user" class="btn-primary btn-small admin-only">Add Record</button>
  <table>
    <thead>
      <tr><th>ID</th><th>Name</th><th>NIA</th><th>Status</th><th>Actions</th></tr>
    </thead>
    <tbody id="users-body"></tbody>
  </table>
</section>

<!-- Wallet -->
<section id="section-wallet">
  <table>
    <thead><tr><th>User</th><th>Balance</th></tr></thead>
    <tbody id="wallet-body"></tbody>
  </table>
  <h4>Transactions</h4>
  <table>
    <thead><tr><th>Time</th><th>User</th><th>Type</th><th>Amount</th></tr></thead>
    <tbody id="wallettx-body"></tbody>
  </table>
</section>

<!-- Search Logs -->
<section id="section-logs">
  <table>
    <thead><tr><th>Time</th><th>User</th><th>Query</th><th>Result</th></tr></thead>
    <tbody id="searchlogs-body"></tbody>
  </table>
</section>

<!-- Audit Logs -->
<section id="section-audit">
  <table>
    <thead><tr><th>Time</th><th>User</th><th>Action</th><th>Meta</th></tr></thead>
    <tbody id="audit-logs-body"></tbody>
  </table>
</section>

<!-- Add Record Modal -->
<div id="modal-add-user" class="modal">
  <div class="modal-content">
    <h3>Add Record</h3>
    <input id="add-name" placeholder="Name">
    <input id="add-nia" placeholder="NIA">
    <input id="add-status" placeholder="Status">
    <div style="text-align:right;">
      <button id="btn-cancel-user" class="btn-small">Cancel</button>
      <button id="btn-save-user" class="btn-primary btn-small">Save</button>
    </div>
  </div>
</div>

<script type="module" src="admin.js"></script>
</body>
</html>
