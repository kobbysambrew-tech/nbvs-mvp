<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Employer Sign Up — NBVS</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
body{font-family:Inter, sans-serif; background:#f3f4f6; margin:0; padding:20px;}
.card{max-width:430px; margin:40px auto; background:white; padding:25px;
border-radius:12px; box-shadow:0 8px 22px rgba(0,0,0,0.12);}
input{width:100%; padding:12px; border:1px solid #ccc; border-radius:8px; margin:8px 0;}
button{width:100%; padding:12px; background:#046c4e; color:white; border:none; border-radius:8px;
font-size:1rem; font-weight:600; cursor:pointer;}
h2{text-align:center; margin-bottom:14px;}
</style>
</head>

<body>
<div class="card">
  <h2>Employer Sign Up</h2>

  <input id="email" placeholder="Business Email" />
  <input id="password" type="password" placeholder="Password" />
  <input id="company" placeholder="Company Name" />

  <button id="signupBtn">Create Employer Account</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey:"AIzaSyCDh_qL3jiCMHROK0_Soul2Wsv3t3y4wv0",
  authDomain:"nbvs-ghana.firebaseapp.com",
  projectId:"nbvs-ghana",
  storageBucket:"nbvs-ghana.firebasestorage.app",
  messagingSenderId:"702636577113",
  appId:"1:702636577113:web:8369b43a2aa43aeb95fc48"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db   = getFirestore(app);

document.getElementById("signupBtn").onclick = async () => {
  const email = email.value.trim();
  const pass  = password.value.trim();
  const comp  = company.value.trim();

  if (!email || !pass || !comp) return alert("Fill all fields.");

  try {
    const res = await createUserWithEmailAndPassword(auth, email, pass);

    await setDoc(doc(db,"users",res.user.uid),{
      role: "employer",
      company: comp,
      email: email,
      createdAt: new Date()
    });

    alert("Employer account created! Redirecting…");
    window.location.href = "employer.html";

  } catch(err){
    alert(err.message);
  }
};
</script>
</body>
</html>
